(function () {var g={};function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};document.querySelectorAll(e).forEach(function(e){var n=e.id;l(e,n,t.labelClass?t.labelClass:null),p(e,n,m(e,n),e.dataset.checked?e.dataset.checked:null)});var n=function(e){if(f(e)){var n=d(e),a=n.checkDot,c=n.checkBox,o=n.containerDiv;a.classList.add("animateBtn-check"),c.classList.add("checked"),setTimeout(function(){a.setAttribute("style","left: ".concat(2*t.switchWidth+2||"16","px;")),a.classList.remove("animateBtn-check"),o.childNodes.forEach(function(e){e.tagName&&"input"===e.tagName.toLowerCase()&&(e.value=o.dataset.checkedValue)}),a.addEventListener("click",i),c.addEventListener("click",i),a.addEventListener("keydown",i),c.addEventListener("keydown",i),a.removeEventListener("click",c),c.removeEventListener("click",c),a.removeEventListener("keydown",c),c.removeEventListener("keydown",c)},t.animationDuration?b(t.animationDuration):250)}},i=function e(n){if(f(n)){var i=d(n),a=i.checkDot,c=i.checkBox,o=i.containerDiv;a.classList.add("animateBtn-uncheck"),c.classList.remove("checked"),setTimeout(function(){a.setAttribute("style","left: 0px;"),a.classList.remove("animateBtn-uncheck"),o.childNodes.forEach(function(e){e.tagName&&"input"===e.tagName.toLowerCase()&&(o.dataset.uncheckedValue?e.value=o.dataset.uncheckedValue:e.value="")}),a.addEventListener("click",c),c.addEventListener("click",a),a.addEventListener("keydown",c),c.addEventListener("keydown",a),a.removeEventListener("click",e),c.removeEventListener("click",e),a.removeEventListener("keydown",e),c.removeEventListener("keydown",e)},t.animationDuration?b(t.animationDuration):250)}};document.querySelectorAll(".binaryBtn, .binarySwitchContainer").forEach(function(e){e.addEventListener("click",n),e.addEventListener("keydown",n)})}function s(t){return x(t)||w(t)||v(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function w(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function x(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var k=function(t){var e,n=t.substring(0,t.length-1);switch(n[0]){case".":var a=n.substr(1,t.length);switch(a.length){case 1:e=parseInt("".concat(a,"00"),10);break;case 2:e=parseInt("".concat(a,"0"),10);break;case 3:e=parseInt("".concat(a),10);break;default:throw new Error("binaryBox only parses up to thousandths of a ms");}break;default:switch(n.length){case 1:e=parseInt("".concat(n,"000"),10);break;default:throw new Error("binaryBox only allows up to 9 seconds");}}return e};var b=function(t){var e=k(t);return e>55?e-50:e};var d=function(t){var e,n;return"span"===t.currentTarget.tagName.toLowerCase()?n=(e=t.currentTarget).parentElement:e=(n=t.currentTarget).childNodes[0],{checkDot:e,checkBox:n,containerDiv:n.parentElement}};var y=function(t){var e=document.createElement("style");e.textContent="\n    .binarySwitchContainer {\n      background: ".concat(t.background||"#eaeaeb",";\n      border: 1px solid ").concat(t.background||"#eaeaeb",";\n      border-radius: 1rem;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      width: ").concat(t.switchWidth||"34px",";\n      height: ").concat(t.switchHeight||"15px",";\n      cursor: pointer;\n    }\n    \n    .binarySwitchContainer:focus {\n      border: 2px solid #25202085 !important;\n      outline: none !important;\n    }\n    \n    .binaryBtn {\n      background: ").concat(t.button||"#fff",";\n      border-radius: ").concat(t.dotRadius||".65rem",";\n      width: ").concat(t.dotWidth||"16px",";\n      height: ").concat(t.dotHeight||"15px",";\n      position: relative;\n      display: block;\n      margin-left: 1px;\n      margin-right: 1px;\n      transition: all ").concat(t.animationDuration?k(t.animationDuration,50):300,"ms linear;\n    }\n    \n    @keyframes slideBtn-right {\n      from {left: 0px;}\n      to {left: ").concat(2*t.switchWidth+2||"16","px;}\n    }\n    \n    @keyframes slideBtn-left {\n      from {left: ").concat(2*t.switchWidth+2||"16","px;}\n      to {left: 0px;}\n    }\n    \n    .checked {\n      background: ").concat(t.checkedColor||"#00a28a !important",";\n      border: 1px solid ").concat(t.checkedColor||"#00a28a !important",";\n    }\n    \n    .animateBtn-check {\n      animation-name: slideBtn-right;\n      animation-duration: ").concat(t.animationDuration||".3s",";\n      -webkit-animation-name: slideBtn-right;\n      -webkit-animation-duration: ").concat(t.animationDuration||".3s",";\n    }\n    \n    .animateBtn-uncheck {\n      animation-name: slideBtn-left;\n      animation-duration: ").concat(t.animationDuration||".3s",";\n      -webkit-animation-name: slideBtn-left;\n      -webkit-animation-duration: ").concat(t.animationDuration||".3s",";\n    }\n    "),document.getElementsByTagName("head")[0].appendChild(e)};var l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t.dataset.label){var a,r=document.createElement("label");r.setAttribute("for","".concat(e)),r.textContent=t.dataset.label,n&&(a=r.classList).add.apply(a,s(n)),t.prepend(r)}};var m=function(t,e){var n=document.createElement("input");return n.type="hidden",n.name=t.id,n.id=e,t.dataset.uncheckedValue&&(n.value=t.dataset.uncheckedValue),n};var f=function(t){return"click"===t.type||"Enter"===t.key||"Space"===t.code};var p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=document.createElement("div"),i=document.createElement("span");r.classList.add("binarySwitchContainer"),r.setAttribute("tabindex","0"),a&&r.classList.add("is-checked"),i.classList.add("binaryBtn"),n&&t.append(n),t.id="grabbed_".concat(e),r.appendChild(i),t.appendChild(r)};function z(e){return D(e)||C(e)||B(e)||A()}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function C(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function D(e){if(Array.isArray(e))return j(e)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};document.querySelectorAll(e).forEach(function(e){var r=e.id;l(e,r,t.labelClass?t.labelClass:null);var a=m(e,r);e.insertBefore(a,e.children[1]),e.id="arrayed_".concat(r),e.childNodes.forEach(function(e){if(e.classList&&e.classList.contains("arrayChild")){var r,a=e.id,n=document.createElement("span");if(n.innerText=e.dataset.label,t.arrayLabelClass)(r=n.classList).add.apply(r,z(t.arrayLabelClass));e.append(n),p(e,a,null,e.dataset.checked?e.dataset.checked:null)}})});var r=function(e){if(f(e)){var r=d(e),n=r.checkDot,o=r.checkBox,i=r.containerDiv,c=i.parentElement;n.classList.add("animateBtn-check"),o.classList.add("checked"),setTimeout(function(){n.setAttribute("style","left: 16px;"),n.classList.remove("animateBtn-check"),c.childNodes.forEach(function(e){if(e.tagName&&"input"===e.tagName.toLowerCase()){var t=e.value?JSON.parse(e.value):[];t.includes(i.dataset.checkedValue)||(t.push(i.dataset.checkedValue),e.value=JSON.stringify(t))}}),n.addEventListener("click",a),o.addEventListener("click",a),n.addEventListener("keydown",a),o.addEventListener("keydown",a),n.removeEventListener("click",o),o.removeEventListener("click",o),n.removeEventListener("keydown",o),o.removeEventListener("keydown",o)},t.animationDuration?b(t.animationDuration):250)}},a=function e(r){if(f(r)){var a=d(r),n=a.checkDot,o=a.checkBox,i=a.containerDiv,c=i.parentElement;n.classList.add("animateBtn-uncheck"),o.classList.remove("checked"),setTimeout(function(){n.setAttribute("style","left: 0px;"),n.classList.remove("animateBtn-uncheck"),c.childNodes.forEach(function(e){if(e.tagName&&"input"===e.tagName.toLowerCase()){var t=JSON.parse(e.value);t.includes(i.dataset.checkedValue)&&(t.splice(t.indexOf(i.dataset.checkedValue),1),e.value=JSON.stringify(t))}}),n.addEventListener("click",o),o.addEventListener("click",n),n.addEventListener("keydown",o),o.addEventListener("keydown",n),n.removeEventListener("click",e),o.removeEventListener("click",e),n.removeEventListener("keydown",e),o.removeEventListener("keydown",e)},t.animationDuration?b(t.animationDuration):250)}};document.querySelectorAll(".binaryBtn, .binarySwitchContainer").forEach(function(e){e.addEventListener("click",r),e.addEventListener("keydown",r)})}g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.arrayBoxSelector?e.arrayBoxSelector:".arrayBox",o=e.checkBoxSelector?e.checkBoxSelector:".binaryBox";y(e),document.querySelector(r)&&E(r,e),document.querySelector(o)&&q(o,e),setTimeout(function(){document.querySelectorAll(".is-checked").forEach(function(e){e.classList.remove("is-checked"),e.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))})},100)};if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=g}else if(typeof define==="function"&&define.amd){define(function(){return g})}else{this["binBoxInit"]=g}})();